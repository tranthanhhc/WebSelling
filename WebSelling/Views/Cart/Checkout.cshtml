
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Checkout";
    Layout = "~/Views/Shared/_LayoutCart.cshtml";
}
@model WebSelling.ViewModels.CheckoutViewModel
<section class="mt-5 mb-4">    
        <form method="post" asp-action="AddBill">
         <div class="row">
             @if (TempData["OrderSuccessMessage"] != null)
        {
            <div class="alert alert-success mt12" role="alert" >
                @TempData["OrderSuccessMessage"]
            </div>
        }
          <!--Grid column-->
          <div class="col-lg-8 mb-4">
            <!-- Card -->
            <div class="card wish-list pb-1">
              <div class="card-body">
                <h5 class="mb-2"> Delivery information : </h5>
                <!-- Grid row -->

                <!-- Company name -->
                <div class="md-form md-outline my-0">
                  <label asp-for="HoaDonKH.TenKhachHang">Name</label>
                  <input asp-for="HoaDonKH.TenKhachHang" class="form-control mb-0">
                </div>
                <br>

                <!-- Address -->
                <div class="md-form md-outline mt-0">
                  <label asp-for="HoaDonKH.DiaChi">Address</label>
                  <input asp-for="HoaDonKH.DiaChi" placeholder="House number and street name" class="form-control">
                </div>
                <br>

                <!-- Phone -->
                <div class="md-form md-outline">
                  <label asp-for="HoaDonKH.SoDienThoai">Phone</label>
                  <input asp-for="HoaDonKH.SoDienThoai" class="form-control">
                </div>
                <br>
              </div>
            </div>
            <!-- Card -->

          </div>
          <!--Grid column-->

          <!--Grid column-->
          <div class="col-lg-4">

            <!-- Card -->
            <div class="card mb-4">
             
              <div class="card-body">
                    <h5 class="mb-3">The total amount of</h5>
                    <ul class="list-group list-group-flush">
                        @if(Model != null)
                        {
                        @foreach (var line in Model.Cart.Lines)
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                <label >@line.Product.TenSanPham</label>

                                <label >@line.Quantity</label>

                                <label>@string.Format("{0:C2}",line.Product.GiaLonNhat)</label>
                            </li>
                        }
                        <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                            Shipping
                            <span>Gratis</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                            <div>
                                <strong>The total amount of</strong>
                                <strong>
                                    <p class="mb-0">(including VAT)</p>
                                </strong>
                            </div>
                            <label>@string.Format("{0:C2}", Model.Cart.ComputeTotalValue())</label>

                            </li>
                        } 
                        else
                        {
                            <p>Your cart is empty.</p>
                        }
                    </ul> 
                    
                      <div class="form-check">
                        <input class="form-check-input" type="radio" id="cash" name="paymentMethod" value="cash">
                        <label class="form-check-label" for="cash">Thanh toán tiền mặt</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" id="bankTransfer" name="paymentMethod" value="bankTransfer">
                        <label class="form-check-label" for="bankTransfer">Thanh toán chuyển khoản</label>
                      </div>
  
                      <input type="submit" value="Đặt hàng" class="btn btn-primary mt-2">
                    
               </div>
            </div>
            <!-- Card -->

            <!-- Card -->
            <div class="card mb-4">
              <div class="card-body">

                <a class="dark-grey-text d-flex justify-content-between" data-toggle="collapse" href="#collapseExample"
                  aria-expanded="false" aria-controls="collapseExample">
                  Add a discount code (optional)
                  <span><i class="fas fa-chevron-down pt-1"></i></span>
                </a>

                <div class="collapse" id="collapseExample">
                  <div class="mt-3">
                    <div class="md-form md-outline mb-0">
                      <input type="text" id="discount-code" class="form-control font-weight-light"
                        placeholder="Enter discount code">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Card -->

          </div>
          <!--Grid column-->

        </div>
        </form>
        <!--Grid row-->
        
        <!--Grid row-->

      </section>